# STC32F12K_BST_Epoilt

2024å¹´æ±Ÿè¥¿ç§‘æŠ€å­¦é™¢è“è‰²æŠ€æœ¯å·¥ä½œå®¤æ™ºèƒ½è½¦é˜Ÿ æŠ˜çº¿ç”µç£ç»„ BST-ç£é©­

# å¢é‡å¼PIçš„ç‰¹æ®Šæ„ä¹‰

å¢é‡å¼PIä¸èƒ½ç›´æ¥ä»¥â€œå¢å¤§På“åº”å¿«ï¼Œå¢å¤§Iå¼¥è¡¥è¯¯å·®â€æ¥ç†è§£ã€‚è¯¦æƒ…å¯ä»¥çœ‹ä¸€ä¸‹è¿™ä¸¤ç¯‡åšå®¢ã€‚

> [å¢é‡å¼PIDçš„På’ŒIæ€ä¹ˆç†è§£ï¼ˆä¸€ï¼‰_iå¢å¤§åŠ¨æ€æ€§èƒ½-CSDNåšå®¢](https://blog.csdn.net/fangchenglia/article/details/109518121)
>
> [å¢é‡å¼PIDçš„På’ŒIæ€ä¹ˆç†è§£ï¼ˆäºŒï¼‰_piå¢å¤§ä¸æ˜¯å‡å°‘è¶…è°ƒé‡å—?ä¸ºä»€ä¹ˆä¼šä½¿è¶…è°ƒé‡å¢åŠ -CSDNåšå®¢](https://blog.csdn.net/fangchenglia/article/details/109534127?spm=1001.2014.3001.5502)
>
> [å¢é‡å¼PIDçš„På’ŒIæ€ä¹ˆç†è§£ï¼ˆä¸‰ï¼‰_å¢é‡pid (ä¸‰)-CSDNåšå®¢](https://blog.csdn.net/fangchenglia/article/details/109550178?spm=1001.2014.3001.5502)

> ç§¯åˆ†ä¸èƒ½æ¿€æ´»Pçš„æ½œåŠ›ï¼Œåƒå¢åŸŸä¸º200çš„æƒ…å†µï¼Œéœ€è¦é€‰æ‹©å°På»æé«˜ç¬¬ä¸€ä¸‹çš„çªå¢å³°å€¼ï¼Œå¯ä»¥è¿™ä¹ˆè¯´ï¼ŒPä¸º10å®ƒçš„æ½œåŠ›å·²ç»è¢«æ¿€æ´»å®Œäº†ï¼Œå°±æ˜¯100å¤šè¿™ä¹ˆå¤§ã€‚æˆ‘ä¸ºä»€ä¹ˆè¯´æ˜¯P=10çš„æ½œåŠ›æ˜¯100å·¦å³ï¼ŸPç³»æ•°æ‰€å¯¹åº”çš„æ½œåŠ›å€¼æ€ä¹ˆç®—ï¼Ÿè¯·æ ¹æ®æˆ‘ç»™çš„ä¸ç­‰å¼ï¼ˆPWMçš„é™å¹…å€¼>=å¢åŸŸÃ—Pç³»æ•°+åˆå§‹PWMå€¼ï¼Œæˆ‘è¿™é‡Œæš‚ä¸”å°†è¿™ä¸ªä¸ç­‰å¼å‘½åä¸ºBrightä¸ç­‰å¼ï¼‰å»ç®—ï¼Œè®¡ç®—æ–¹æ³•ï¼šæŠŠåˆå§‹PWMå€¼é»˜è®¤ä¸º0ï¼Œç”¨PWMçš„é™å¹…å€¼é™¤ä»¥Pç³»æ•°å³å¯å¾—åˆ°Pçš„æ½œåŠ›ï¼ˆæ­¤æ—¶Pæ½œåŠ›çš„å€¼=å¢åŸŸï¼Œä½†æ˜¯Pæ½œåŠ›ä¸æ˜¯å¢åŸŸï¼Œå› ä¸ºå¢åŸŸæ˜¯ç»™çš„ï¼ŒPæ½œåŠ›æ˜¯ç®—å‡ºæ¥çš„ï¼‰ï¼Œ999/10=99.9ã€‚æƒ³è¦æ›²çº¿æ›´å®Œç¾è·Ÿä¸Šè®¾å®šå€¼200ï¼ŒPè¦æ”¹å°ã€‚é‚£ä¹ˆPç»™å¤šå°‘æ˜¯æœ€åˆé€‚çš„ï¼Ÿä¹Ÿè¯·æ ¹æ®Brightä¸ç­‰å¼è®¡ç®—ï¼šç°åœ¨çš„æƒ…å†µæ˜¯åˆå§‹PWMå€¼ç­‰äºè½®å­çš„å½“å‰é€Ÿåº¦ç­‰äº0ï¼Œäºæ˜¯999/200=4.995â‰ˆ5ï¼Œæ‰€ä»¥Pç»™åˆ°5ã€‚Iå‚æ•°çš„ç»™å®šæ²¡æœ‰å…¬å¼ï¼Œè‡ªå·±æ…¢æ…¢è°ƒï¼Œé å®é™…æ•ˆæœç»™ã€‚

PWMçš„é™å¹…å€¼>=å¢åŸŸÃ—Pç³»æ•°+åˆå§‹PWMå€¼ã€‚

> å¦‚æœå¢é‡å¼PIDæ˜¯è¿™æ ·å­çš„ï¼Œæˆ‘ä»¬è¦å¦‚ä½•ä½¿ç”¨å¥½å®ƒå‘¢ï¼Ÿ
> å°±ä¸€å¥è¯ï¼šPéœ€è¦å¤šå¤§è¦æ ¹æ®å…¬å¼â€”â€”PWMé™å¹…å€¼==å¢åŸŸ*Pç³»æ•°+å¼€ç”µæœºæ—¶çš„åˆå§‹PWMæ¥å®šã€‚

æ‰€ä»¥æˆ‘ä»¬å¯ä»¥æ ¹æ®è¿™ä¸ªç»“è®ºæ¥æ±‚å‡ºç”µæœºå¢é‡å¼Pçš„ç†è®ºå“åº”æ€§æœ€å¤§å€¼ã€‚

ä»¥ä¸‹ä¸ºä»£ç demoã€‚

```c
#include <stdio.h>

/* è®¡ç®— P çš„æœ€å¤§å€¼ */
double calculate_max_p(double pwm_limit, double increment, double initial_pwm) {
    if (increment == 0) {
        printf("å¢åŸŸ (increment) ä¸èƒ½ä¸ºé›¶ã€‚\n");
        return -1; /* è¿”å›ä¸€ä¸ªé”™è¯¯å€¼ */
    }
  
    return (pwm_limit - initial_pwm) / increment;
}

int main() {
    double pwm_limit = 1000.0;  /* PWMé™å¹…å€¼ */
    double increment = 5.0;     /* å¢åŸŸ */
    double initial_pwm = 200.0; /* å¼€ç”µæœºæ—¶çš„åˆå§‹PWM */
    double max_p;

    max_p = calculate_max_p(pwm_limit, increment, initial_pwm);
  
    if (max_p != -1) {
        printf("P çš„æœ€å¤§å€¼ä¸º: %f\n", max_p);
    }
  
    return 0;
}
```

# æ¨¡ç³ŠPID

[ã€æ™ºèƒ½è½¦ã€‘æ¨¡ç³ŠPIDæ§åˆ¶åŸç†è¯¦è§£ä¸ä»£ç å®ç°-CSDNåšå®¢](https://blog.csdn.net/weixin_45636061/article/details/124996230)

[é£æ€å¡å°”æ™ºèƒ½è½¦----æ¨¡ç³ŠPIDç®—æ³•é€šä¿—è®²_æ±½è½¦è¿åŠ¨æ§åˆ¶æ¨¡ç³Špid-CSDNåšå®¢](https://blog.csdn.net/weixin_36340979/article/details/79168052)

# æ³¨æ„

## ç¼–ç æ ¼å¼æˆ–ä¸­æ–‡ä¹±ç 

KeilåŸå› ï¼Œä½¿ç”¨ä¸­æ–‡æ³¨é‡Šå¿…é¡»ä½¿ç”¨GB2312ç¼–ç ï¼Œæ‰€ä»¥å½“æŸ¥çœ‹æœ¬é¡¹ç›®ä»£ç å‡ºç°ä¹±ç æ—¶ï¼Œè¯·å°è¯•å°†ç¼–ç æ–¹å¼è°ƒæ•´ä¸ºGB2312

## æ— ç”¨è®¾å¤‡é©±åŠ¨æ–‡ä»¶

ä¸ºèŠ‚çœå•ç‰‡æœºå­˜å‚¨ç©ºé—´ï¼Œæ²¡æœ‰ä½¿ç”¨åˆ°çš„è®¾å¤‡é©±åŠ¨æ–‡ä»¶å·²ç»ä»Keilé¡¹ç›®ä¸­ç§»å‡ºï¼Œä¿å­˜åœ¨ `STC32F_Code\Libraries\seekfree_peripheral\Unuse`æ–‡ä»¶å¤¹ä¸­ã€‚
è‹¥éœ€è¦é‡æ–°æ·»åŠ ï¼Œè¯·åœ¨Keilçš„Manage Project Itemsä¸­å°†éœ€è¦çš„æ–‡ä»¶é‡æ–°æ·»åŠ åˆ°é¡¹ç›®ä¸­ã€‚

![1717048084319](image/README/1717048084319.png)

# å‚è€ƒèµ„æ–™

æ„Ÿè°¢ä»¥ä¸‹å¼€æºé¡¹ç›®å’Œåšå®¢æ•™ç¨‹æä¾›çš„å‚è€ƒä¸å¸®åŠ©

## å¼€æºé¡¹ç›®

[ç¬¬åå…­å±Šæ™ºèƒ½è½¦ç«èµ›-å›½å®¶çº§ä¸€ç­‰å¥–-åµŒå…¥å¼æ§åˆ¶å¼€æº(æ©æ™ºæµ¦æ¯/é£æ€å¡å°”æ¯)-å…¨å›½ç¬¬14å ğŸ†](https://github.com/ittuann/Enterprise_E)

[ç¬¬16å±Šå…¨å›½å¤§å­¦ç”Ÿæ™ºèƒ½è½¦å¤§èµ›-æ™ºèƒ½è§†è§‰ç»„ ä¸Šæµ·äº¤é€šå¤§å­¦ AuTopæˆ˜é˜Ÿ RT1064ä¸»æ§ä»£ç ](https://github.com/SJTU-AuTop/RT1064-Code)

## åšå®¢æ•™ç¨‹

[åŸºäºç®€åŒ–KNNçš„æ¨¡æ¿åŒ¹é…çš„æ™ºèƒ½è½¦ç”µç£å…ƒç´ è¯†åˆ«ç®—æ³•_åŸºäºknnå®ç°å†…å®¹åŒ¹é…-CSDNåšå®¢](https://blog.csdn.net/qq_20545625/article/details/126010928)

[å¢é‡å¼PIDçš„På’ŒIæ€ä¹ˆç†è§£ï¼ˆä¸€ï¼‰_iå¢å¤§åŠ¨æ€æ€§èƒ½-CSDNåšå®¢](https://blog.csdn.net/fangchenglia/article/details/109518121)

[å¢é‡å¼PIDçš„På’ŒIæ€ä¹ˆç†è§£ï¼ˆäºŒï¼‰_piå¢å¤§ä¸æ˜¯å‡å°‘è¶…è°ƒé‡å—?ä¸ºä»€ä¹ˆä¼šä½¿è¶…è°ƒé‡å¢åŠ -CSDNåšå®¢](https://blog.csdn.net/fangchenglia/article/details/109534127?spm=1001.2014.3001.5502)

# TODO

* [ ] å‰é¦ˆPID
* [ ] å¡å°”æ›¼æ»¤æ³¢
* [ ] æ¨¡ç³ŠPID
